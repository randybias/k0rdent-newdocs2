
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for k0rdent.">
      
      
        <meta name="author" content="Mirantis, Inc.">
      
      
      
        <link rel="prev" href="../quickstart_2_aws_infra_setup/">
      
      
        <link rel="next" href="../tutorial_1_upgrade_single_cluster/">
      
      
      <link rel="icon" href="../img/k0s_social.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>QuickStart 3 - Deploy managed clusters on AWS - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quickstart-3-deploy-managed-clusters-on-aws" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Documentation" class="md-header__button md-logo" aria-label="Documentation" data-md-component="logo">
      
  <img src="../img/k0s_social.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              QuickStart 3 - Deploy managed clusters on AWS
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://.." title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Documentation" class="md-nav__button md-logo" aria-label="Documentation" data-md-component="logo">
      
  <img src="../img/k0s_social.png" alt="logo">

    </a>
    Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://.." title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to the k0rdent docs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../guide_to_k0rdent_documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guide to k0rdent documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    k0rdent concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            k0rdent concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../why_k0rdent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why k0rdent?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../k0rdent_architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k0rdent architecture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    QuickStarts and Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            QuickStarts and Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guide_to_quickstarts_and_tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guide to Quickstarts and Tutorials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart_1_k0rdent_prerequisites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QuickStart 1 - k0rdent pre-requisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart_2_aws_infra_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QuickStart 2 - AWS infrastructure setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    QuickStart 3 - Deploy managed clusters on AWS
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    QuickStart 3 - Deploy managed clusters on AWS
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-clustertemplate" class="md-nav__link">
    <span class="md-ellipsis">
      Install ClusterTemplate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view-clustertemplates" class="md-nav__link">
    <span class="md-ellipsis">
      View ClusterTemplates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examine-a-managedcluster" class="md-nav__link">
    <span class="md-ellipsis">
      Examine a ManagedCluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-two-clusters-on-aws" class="md-nav__link">
    <span class="md-ellipsis">
      Create two clusters on AWS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtain-kubeconfigs" class="md-nav__link">
    <span class="md-ellipsis">
      Obtain kubeconfigs
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_1_upgrade_single_cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial 1 - Upgrade a single cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_2_install_service_template_single_cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial 2 - Install a ServiceTemplate into a single cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_3_install_service_template_into_multiple_clusters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial 3 - Install a ServiceTemplate into multiple clusters
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-clustertemplate" class="md-nav__link">
    <span class="md-ellipsis">
      Install ClusterTemplate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view-clustertemplates" class="md-nav__link">
    <span class="md-ellipsis">
      View ClusterTemplates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examine-a-managedcluster" class="md-nav__link">
    <span class="md-ellipsis">
      Examine a ManagedCluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-two-clusters-on-aws" class="md-nav__link">
    <span class="md-ellipsis">
      Create two clusters on AWS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtain-kubeconfigs" class="md-nav__link">
    <span class="md-ellipsis">
      Obtain kubeconfigs
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="quickstart-3-deploy-managed-clusters-on-aws">QuickStart 3 - Deploy managed clusters on AWS<a class="headerlink" href="#quickstart-3-deploy-managed-clusters-on-aws" title="Permanent link">#</a></h1>
<p>k0rdent's template-driven system includes <code>ClusterTemplates</code>, for creating and lifecycle managing clusters on infrastructures, and <code>ServiceTemplates</code>, for installing and lifecycle managing services on them.</p>
<p>Right now, what we're interested in is using a ClusterTemplate to describe the managed clusters we want k0rdent to create on AWS. In the real world, this work would probably be done by a Platform Team Lead, because it requires admin access to k0rdent's Management Cluster.</p>
<p>Here is our ClusterTemplate:</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hmc.mirantis.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterTemplate</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo-aws-standalone-cp-0.0.1</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hmc-system</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">helm</span><span class="p">:</span>
<span class="w">    </span><span class="nt">chartSpec</span><span class="p">:</span>
<span class="w">      </span><span class="nt">chart</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo-aws-standalone-cp</span>
<span class="w">      </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.1</span>
<span class="w">      </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10m0s</span>
<span class="w">      </span><span class="nt">sourceRef</span><span class="p">:</span>
<span class="w">        </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HelmRepository</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2a-demos</span>
<span class="w">  </span><span class="nt">providers</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bootstrap-k0smotron</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">control-plane-k0smotron</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">infrastructure-aws</span>
<span class="w">  </span><span class="nt">providerContracts</span><span class="p">:</span>
<span class="w">    </span><span class="nt">bootstrap-k0smotron</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1beta1</span>
<span class="w">    </span><span class="nt">control-plane-k0smotron</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1beta1</span>
<span class="w">    </span><span class="nt">infrastructure-aws</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1beta2</span>
<span class="nn">---</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hmc.mirantis.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterTemplateChain</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo-aws-standalone-cp-0.0.1</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hmc-system</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">supportedTemplates</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo-aws-standalone-cp-0.0.1</span>
</code></pre></div>
<p>This YAML file includes two documents. The first, the ClusterTemplate, provides information that will be used to create the cluster. It specifies the Helm chart information, as well as CAPI providers and information about them. The second document, the ClusterTemplateChain, pertains to how k0rdent aligns different templates to enable coordinated management within guardrails that enforce best practices (read all about it in the <a href="">Administration Guide</a>).</p>
<h2 id="install-clustertemplate">Install ClusterTemplate<a class="headerlink" href="#install-clustertemplate" title="Permanent link">#</a></h2>
<p>Before we can use this template, we need to install it into the management cluster. You can do this manually by applying the YAML file to the cluster, but for now, let’s use the convenience script:</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>apply-clustertemplate-demo-aws-standalone-cp-0.0.1
</code></pre></div>
<p><strong>Note:</strong> Applying the ClusterTemplate doesn't actually create a managed cluster. What it does is create the ClusterTemplate object k0rdent will use to enable creation and lifecycle management of this kind of cluster.</p>
<h2 id="view-clustertemplates">View ClusterTemplates<a class="headerlink" href="#view-clustertemplates" title="Permanent link">#</a></h2>
<p>When we installed k0rdent earlier, many templates got set up this way. We can see them with kubectl:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>hmc-system<span class="w"> </span>get<span class="w"> </span>clustertemplate
</code></pre></div>
<p>You should see a list of ClusterTemplates:</p>
<div class="highlight"><pre><span></span><code>NAME<span class="w">                           </span>VALID
aws-eks-0-0-2<span class="w">                  </span><span class="nb">true</span>
aws-hosted-cp-0-0-3<span class="w">            </span><span class="nb">true</span>
aws-standalone-cp-0-0-4<span class="w">        </span><span class="nb">true</span>
azure-hosted-cp-0-0-3<span class="w">          </span><span class="nb">true</span>
azure-standalone-cp-0-0-4<span class="w">      </span><span class="nb">true</span>
demo-aws-standalone-cp-0.0.1<span class="w">   </span><span class="nb">false</span>
vsphere-hosted-cp-0-0-3<span class="w">        </span><span class="nb">true</span>
vsphere-standalone-cp-0-0-3<span class="w">    </span><span class="nb">true</span>
</code></pre></div>
<p>These are all the cluster and cloud/infrastructure types k0rdent lets us deploy and manage 'out of the box.'</p>
<h2 id="examine-a-managedcluster">Examine a ManagedCluster<a class="headerlink" href="#examine-a-managedcluster" title="Permanent link">#</a></h2>
<p>Actually deploying a cluster requires creating another kind of object for k0rdent: a <code>ManagedCluster</code>. Here's an example:</p>
<div class="highlight"><pre><span></span><code>apiVersion:<span class="w"> </span>hmc.mirantis.com/v1alpha1
kind:<span class="w"> </span>ManagedCluster
metadata:
<span class="w">  </span>name:<span class="w"> </span>my-aws-managedcluster1
<span class="w">  </span>namespace:<span class="w"> </span>hmc-system
spec:
<span class="w">  </span>template:<span class="w"> </span>aws-standalone-cp-0-0-4
<span class="w">  </span>credential:<span class="w"> </span>cluster-identity-cred
<span class="w">  </span>config:
<span class="w">    </span>region:<span class="w"> </span>us-west-2
<span class="w">    </span>controlPlane:
<span class="w">      </span>instanceType:<span class="w"> </span>t3.small
<span class="w">    </span>worker:
<span class="w">      </span>instanceType:<span class="w"> </span>t3.small
</code></pre></div>
<p>The ManagedCluster object ties a ClusterTemplate together with instance specifics (e.g., What do you want to call this cluster? What k0rdent namespace should this cluster live in?) and infrastructure details (e.g., what AWS region do we want to deploy into? What instance type(s) should k0rdent use for control plane and worker nodes?), among other info, including the credentials we just created &mdash; required to deploy this instance.</p>
<p>Again, we could simply apply this template to the management cluster, like this:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>my-aws-managedcluster1.yaml
</code></pre></div>
<h2 id="create-two-clusters-on-aws">Create two clusters on AWS<a class="headerlink" href="#create-two-clusters-on-aws" title="Permanent link">#</a></h2>
<p>But instead we’ll use the Makefile to create two clusters:</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>apply-managed-cluster-aws-test1-0.0.1
make<span class="w"> </span>apply-managed-cluster-aws-test2-0.0.1
</code></pre></div>
<p>Note that it can take 5-10 minutes for the cluster to finish provisioning. You can follow the provisioning process:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>hmc-system<span class="w"> </span>get<span class="w"> </span>managedcluster.hmc.mirantis.com<span class="w"> </span>test1<span class="w"> </span>--watch
</code></pre></div>
<p>You can also use the Makefile to show the status and rollout of the cluster as k0rdent sees it:</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>watch-aws-test1
</code></pre></div>
<p>When the cluster has been completely deployed, you’ll see a message that says:</p>
<div class="highlight"><pre><span></span><code>NAME<span class="w">                   </span>READY<span class="w">   </span>STATUS
hmc-system-aws-test1<span class="w">   </span>True<span class="w">    </span>ManagedCluster<span class="w"> </span>is<span class="w"> </span>ready
</code></pre></div>
<h2 id="obtain-kubeconfigs">Obtain kubeconfigs<a class="headerlink" href="#obtain-kubeconfigs" title="Permanent link">#</a></h2>
<p>Once the deployment is done, you can go ahead and grab the KUBECONFIGs:</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>get-kubeconfig-aws-test1
make<span class="w"> </span>get-kubeconfig-aws-test2
</code></pre></div>
<p>The script puts the KUBECONFIG for a cluster admin in the kubeconfigs folder.</p>
<p>At this point you have two Kubernetes clusters created by k0rdent, and because they’re just normal Kubernetes clusters, you can access them through kubectl just like any other clusters you’d create:</p>
<div class="highlight"><pre><span></span><code><span class="nv">KUBECONFIG</span><span class="o">=</span><span class="s2">&quot;kubeconfigs/hmc-system-aws-test1.kubeconfig&quot;</span><span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-A
<span class="nv">KUBECONFIG</span><span class="o">=</span><span class="s2">&quot;kubeconfigs/hmc-system-aws-test2.kubeconfig&quot;</span><span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-A
</code></pre></div>
<p>Congratulations, you’ve created your first clusters with k0rdent! Now we invite you to proceed to our <a href="">Tutorials</a> to see how k0rdent is used, day to day, at scale.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 The k0rdent authors | Documentation distributed under <a href="https://creativecommons.org/licenses/by/4.0/legalcode.txt">CC-BY-4.0</a>.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["toc.autohide", "search.suggest", "search.highlight", "content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>